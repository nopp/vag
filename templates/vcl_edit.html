    {% extends "layout.html" %}
    {% block body %}
	<script src="//code.jquery.com/jquery-1.10.2.js"></script>
	<style type="text/css" media="screen">
    	#editor {
        	display: table;
        	width: 100%;
        	height: 480px;
    	}
		</style>
        <h2 class="linha"><i class="fa fa-pencil-square-o"> VCL editor</i></h2>
		<form id="target" action="send_vcl" method="POST">
			<input type="hidden" name="vclConteudo" value="">
			<input type="hidden" name="clusterID" value="{{ clusterID }}">
		</form>
		<pre id="editor">
			{{ vcl_data }}
		</pre>
		<script src="/static/edit/ace.js" type="text/javascript" charset="utf-8"></script>
		<script>
			var editor = ace.edit("editor");
			editor.setTheme("ace/theme/github");
			editor.getSession().setMode("ace/mode/c_cpp");
		</script>
		<script type="text/javascript">
		$(document).ready(function(){
			$('.btn').click(function(){
				var conteudoEditor = editor.getValue();
				$('input[name="vclConteudo"]').val(conteudoEditor);
				$("#target").submit();
				//$.post("/teste", {conteudo: conteudoEditor});
    		});
		})
		</script>
		<button type="submit" class="btn btn-primary">Edit</button>
    {% endblock %}
